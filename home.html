<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Home | ReShelf</title>
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    body {
      background-image: url("library2.jpg");
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      margin: 0;
    }

    .overlay {
      background: rgba(0, 0, 0, 0.65);
      min-height: 100vh;
    }

    .glass {
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
    }
  </style>
</head>

<body>

<!-- Supabase -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="supabase.js"></script>

<div class="overlay text-white">

  <!-- NAVBAR -->
  <nav class="flex justify-between items-center px-10 py-5 sticky top-0 z-50 bg-black/30 backdrop-blur-md">
    <h1 class="text-2xl font-bold cursor-pointer" onclick="location.href='home.html'">
      ðŸŒ¿ReShelf
    </h1>

    <div class="flex gap-6 items-center">
      <a href="home.html" class="hover:text-green-300 transition">Home</a>
      <a href="marketplace.html" class="hover:text-green-300 transition">Marketplace</a>
      <a href="list-book.html" class="hover:text-green-300 transition">List Book</a>
      <a href="requests.html" class="hover:text-green-300 transition">My Requests</a>

      <button id="logout"
        class="bg-red-500 px-4 py-2 rounded-lg hover:bg-red-600 transition">
        Logout
      </button>
    </div>
  </nav>

  <!-- MAIN CONTENT -->
  <main class="px-10 py-24">
    <h2 class="text-4xl font-bold mb-3">
      Welcome back ðŸ“–
    </h2>
    <p class="text-gray-200 mb-14">
      Reuse books. find a new reader friend! ðŸŒ±
    </p>

    <!-- ACTION CARDS -->
    <div class="grid md:grid-cols-2 gap-10 max-w-4xl">

      <a href="list-book.html"
        class="glass p-8 rounded-2xl hover:scale-105 transition duration-300">
        <h3 class="text-2xl font-semibold mb-3">âž• List a Book</h3>
        <p class="text-gray-200">
          Sell or exchange books you donâ€™t need anymore.
        </p>
      </a>

      <a href="marketplace.html"
        class="glass p-8 rounded-2xl hover:scale-105 transition duration-300">
        <h3 class="text-2xl font-semibold mb-3">ðŸ›’ Marketplace</h3>
        <p class="text-gray-200">
          Discover books shared by students on campus.
        </p>
      </a>

    </div>
  </main>

</div>

<script>
async function protectPage() {
  const { data } = await supabaseClient.auth.getSession();
  if (!data.session) {
    window.location.href = "auth.html";
  }
}

document.getElementById("logout").onclick = async () => {
  await supabaseClient.auth.signOut();
  window.location.href = "auth.html";
};

protectPage();
</script>

</body>
</html>
